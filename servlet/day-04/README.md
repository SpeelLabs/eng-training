# Day 04

### 概要と目的

#### モジュール3: シンプル投稿アプリの基本機能

モジュール 3 では、モジュール 1 と 2 で学んだサーブレットと JSP の知識を活用し、より実践的なブログアプリケーションを構築します。このモジュールでは特に、MVC アーキテクチャのモデル部分に焦点を当て、データを表現するクラスや、そのデータを管理する仕組みを実装します。パート 1 の集大成として、基本的な機能を備えたブログアプリケーションを完成させることが目標です。

アプリケーションスコープを使用してインメモリーでデータを管理し、投稿の作成や一覧表示、詳細表示といった基本的な CRUD 操作 (作成・読取) を実装します。また、アプリケーション全体を統合し、ユーザー体験を向上させるための改良も行います。

#### 作成するアプリケーションの構成

このモジュールでは、以下の機能を持つブログアプリケーションを完成させます。

1. **投稿の作成機能**:
   * タイトル、内容、投稿日時を持つブログ投稿の作成
   * 投稿フォームの改良
2. **投稿の一覧表示機能**:
   * 全投稿の一覧表示 (新着順)
   * 各投稿の要約表示とリンク
3. **投稿の詳細表示機能**:
   * 個別投稿の詳細表示ページ
   * 投稿の全内容と投稿日時の表示
4. **アプリケーション全体の UI**:
   * 統一されたヘッダー、フッター、ナビゲーション
   * 外部CSSファイルによるスタイル管理
   * 投稿表示のレイアウトとスタイリング

#### このモジュールで達成すること

1. ブログ投稿を表すモデルクラス（Postクラス）の設計と実装
2. アプリケーションスコープを使用したインメモリーデータ管理
3. 投稿一覧と詳細表示機能の実装
4. アプリケーション全体のナビゲーション構造の確立
5. 基本的な CRUD 操作 (作成・読取) の実装
6. MVC パターンに基づいた実用的なアプリケーション設計
7. 外部CSSファイルによるスタイル管理の改善

#### このモジュールで使用する技術

<table><thead><tr><th width="262.85546875">技術</th><th>説明</th></tr></thead><tbody><tr><td><strong>Java モデルクラス</strong></td><td>データとその操作方法をまとめたクラス（Postクラス）</td></tr><tr><td><strong>LocalDateTime</strong></td><td>現代的な日時データの扱いと表示</td></tr><tr><td><strong>ID による投稿検索</strong></td><td>特定の投稿を識別して表示する方法</td></tr><tr><td><strong>アプリケーションスコープ</strong></td><td>アプリ全体でデータを共有する仕組み</td></tr><tr><td><strong>ServletContextListener</strong></td><td>アプリケーション起動時の初期化処理</td></tr><tr><td><strong>外部CSSファイル</strong></td><td>スタイルの一元管理と保守性の向上</td></tr></tbody></table>

### アウトライン

1. **投稿データのモデルクラス作成**\
   ブログ投稿のデータを扱うための Post クラスを作成します。タイトル、内容、投稿日時、ID などの属性を持つクラスを実装し、投稿データの基本構造を定義します。LocalDateTimeを使用した現代的な日時処理を実装します。
2. **アプリケーションスコープによる投稿データの管理**\
   作成した Post クラスのインスタンスを ArrayList で管理し、アプリケーションスコープを使ってデータを保持する仕組みを実装します。ServletContextListenerを使用したアプリケーション初期化、新規投稿の保存、ID 生成、投稿日時の自動設定などの機能を追加します。
3. **投稿一覧表示機能の強化**\
   モジュール 2 で作成した投稿一覧機能を改良します。アプリケーションスコープに保存された投稿データを取り出し、新着順に表示する機能を実装します。各投稿に詳細表示へのリンクを追加し、LocalDateTimeを使用した日時表示を改善します。
4. **投稿詳細表示ページの実装**\
   個別の投稿を表示するための詳細表示ページを作成します。URL パラメータから投稿 ID を取得し、アプリケーションスコープから該当する投稿を検索して表示するサーブレットと JSP を実装します。
5. **新規投稿機能の完成**\
   モジュール 2 で作成した投稿フォームと、このモジュールで実装したデータ保存機能を連携させます。投稿後の画面遷移や、Postオブジェクトを使用したデータ管理を完成させます。
6. **アプリケーションの外観改善**\
   外部CSSファイルを作成し、インラインスタイルから分離してより管理しやすい構造にします。投稿一覧と詳細表示ページのデザインを整え、新規投稿、一覧表示、詳細表示間のナビゲーションを明確にし、使いやすい UI を実現します。完成したアプリケーションの動作確認を行います。
7. **次のステップと発展モジュール**\
   パート 1 の基本モジュールをすべて完了したら、発展モジュールに挑戦したり、パート 2 に進んでデータベース連携を学ぶことができます。発展モジュール 1-A では入力検証を強化して、より堅牢なアプリケーションを構築する方法を学び、発展モジュール 1-B では、CSS と JavaScript を使って、より洗練された UI を実現する方法を学ぶことができます。

### 技術的な進歩

モジュール2からモジュール3への主な技術的進歩は以下の通りです：

#### データ構造の改善

* **モジュール2**: `List<String[]>` による単純な配列ベースのデータ管理
* **モジュール3**: `List<Post>` によるオブジェクト指向的なデータ管理

#### 日時処理の統一

* **LocalDateTime**を全面的に採用し、現代的な日時処理を実現
* **DateTimeFormatter**による柔軟な日時表示

#### アーキテクチャの改善

* **ServletContextListener**によるアプリケーション初期化
* **アプリケーションスコープ**による適切なデータ共有
* **外部CSSファイル**による保守性の向上

#### 機能の拡張

* 投稿詳細表示機能の追加
* ID ベースの投稿検索機能
* より洗練されたナビゲーション構造

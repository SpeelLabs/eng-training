# 2. 要件定義

### 2.1 要件定義とは何か

#### 2.1.1 要件定義の定義

**要件定義**とは、企画で決めた 「何を作るか」 を、具体的で詳細な機能仕様に落とし込む工程です。システムが 「何をするべきか」 を明確に定義し、開発チームとユーザーの間で認識を統一することが目的です。

要件定義は、企画の抽象的なアイデアを、開発可能な具体的な仕様に変換する橋渡しの役割を果たします。料理に例えるなら、「美味しいカレーを作る」 という企画を 「材料は何を何グラム、調理時間は何分、どの手順で」 という具体的なレシピに変換する作業です。

**要件定義の成果物**:

* 要件定義書（機能要件・非機能要件）
* 業務フロー図
* ユースケース図・ユースケース記述
* データ要件定義

> 📝 **ポイント**: 要件定義は 「何を作るか」 を決める工程です。「どのように作るか」 は次の基本設計フェーズで決定します。

#### 2.1.2 要件定義がなぜ重要なのか

ソフトウェア開発において、要件定義などの上流工程は開発全体の約 5割の時間を占める重要な工程です。これに対して実装（プログラミング）は全体の 2-3割程度に過ぎません。つまり、要件定義の品質が最終的な成果物の成功を大きく左右するということです。

要件定義が不十分だと、以下のような問題が発生します：

* 開発者とユーザーの認識がずれ、期待と異なるシステムができる
* 開発途中で仕様変更が頻繁に発生し、スケジュールが遅延する
* 機能の抜け漏れや重複が発生する
* テスト時に 「何が正しい動作か」 が不明確になる

逆に、しっかりとした要件定義があると：

* 開発すべき機能が明確になり、効率的な開発ができる
* ユーザーの期待と開発結果が一致する
* テストの基準が明確になる
* プロジェクトのスコープが明確になり、管理しやすくなる

> 📝 **ポイント**: 「要件定義にかけた時間の 10倍の時間が実装で節約される」 と言われるほど、要件定義の品質は開発効率に大きく影響します。

#### 2.1.3 機能要件と非機能要件

**機能要件と非機能要件の違い**

要件は大きく 2つのカテゴリに分類されます：

* **機能要件** - システムが 「何をするか」 を定義（例：ログイン機能、データ保存機能）
* **非機能要件** - システムが 「どのような品質で動作するか」 を定義（例：応答時間、セキュリティレベル）

**機能要件の例**：

* ユーザーはメールアドレスとパスワードでログインできる
* 学習記録を日付、科目、時間とともに保存できる
* 過去1週間の学習時間の合計を表示できる

**非機能要件の例**：

* システムの応答時間は 3秒以内
* 同時に 100人がアクセスしても正常に動作する
* パスワードは暗号化して保存する

### 2.2 要件の段階的明確化プロセス

#### 2.2.1 初期アイデアから具体的要件への変換

多くのプロジェクトは、漠然としたアイデアから始まり、段階的に具体的な要件へと明確化されていきます。この過程を理解することで、より効果的な要件定義が可能になります。

{% stepper %}
{% step %}
**初期のアイデアと課題認識**

最初の段階では、解決したい問題や改善したい状況が漠然とした形で存在します。 「こんなシステムがあったら便利だろう」 という程度の抽象的なアイデアの状態です。

**例：学習管理に関する初期アイデア**\
「学習の進捗が分からないので、何かツールがあると良い」
{% endstep %}

{% step %}
**具体的な機能への変換**

初期アイデアを、システムで実現したい具体的な機能として表現します。 「どのような機能があれば課題が解決できるか」 を明確にします。

**例：学習管理の具体的機能**\
「学習時間を記録して、グラフで表示できる機能が欲しい」
{% endstep %}

{% step %}
**詳細な仕様への落とし込み**

具体的な機能を、開発者が実装できるレベルの詳細な仕様として定義します。 「どのように動作し、どのような制約があるか」を明確にします。

**例：学習管理の詳細仕様** 「ユーザーは学習日、科目名、学習時間（分単位）、学習内容を入力できる。システムは過去30日間の学習時間を科目別に集計し、棒グラフで表示する。」
{% endstep %}
{% endstepper %}

#### 2.2.2 関係者間での認識統一

要件定義では、様々な立場の関係者が関わるため、全員が同じ理解を持つことが重要です。

**明確で具体的な表現の重要性**\
曖昧な表現は誤解の原因となります。例えば 「使いやすいシステム」 という表現では、人によって異なる解釈をしてしまいます。

**良い例**：「主要操作は 3回以内のクリックで完了する」 \
**悪い例**：「直感的で使いやすいインターフェース」

**段階的な合意形成**\
一度にすべてを決めようとせず、重要な機能から順次詳細化していくアプローチが効果的です。

1. まず基本的な機能について合意
2. 各機能の詳細な動作を定義
3. 例外処理やエラーケースを検討
4. 性能やセキュリティなどの品質要件を定義

### 2.3 要件定義の基本プロセス

#### 2.3.1 要件定義プロセス全体の流れ

要件定義は以下のステップで進行します：

1. **要件収集** - ユーザーのニーズや制約を詳細に聞き取る
2. **要件分析** - 収集した情報を整理・分析する
3. **要件仕様化** - 要件を具体的な仕様として文書化する
4. **要件検証** - 定義した要件が正しいかを確認する
5. **要件管理** - 要件の変更や追加を適切に管理する

#### 2.3.2 要件収集の手法

**インタビュー**\
ユーザーや関係者に直接話を聞く最も基本的な手法です。「現在どのような作業をしているか」「何に困っているか」「どうなると良いか」を具体的に聞き取ります。

**観察・現地調査**\
実際にユーザーが作業している様子を観察し、言葉では表現されない課題やニーズを発見します。ユーザー自身が気づいていない問題を見つけることができます。

**プロトタイピング**\
簡易的な試作品を作成してユーザーに触ってもらい、フィードバックを得る手法です。抽象的な要件を具体的な形で確認できます。

#### 2.3.3 要件の表現方法

**機能仕様書**\
「システムが何をするか」を明確に記述する文書です。「〜できる」「〜を表示する」「〜を保存する」といった動詞で表現し、システムの動作を具体的に定義します。

**ユースケース記述**\
システムとユーザーの相互作用を段階的に記述する手法です。「誰が」「何を」「どのような手順で」行うかを詳細に表現します。

**業務フロー**\
システムを使った業務の流れを図で表現する手法です。現在の業務と将来の業務を比較して、システム化の効果を明確にします。

**受け入れ基準**\
各機能が「どうなれば完成とみなすか」の判定基準を明確に定義します。テスト時の合格ラインとしても活用されます。

### 2.4 学習記録アプリの要件定義実践

#### 2.4.1 企画内容の振り返りと要件化

前回の企画フェーズで決定した内容を要件定義の観点で整理しましょう：

**企画での決定事項** → **要件定義での具体化**

<table><thead><tr><th width="279.5999755859375">企画内容</th><th>要件定義での具体化</th></tr></thead><tbody><tr><td>コアコンセプト：<br>「シンプルで継続しやすい学習記録」</td><td>ユーザビリティ要件：直感的操作、3タップ以内での主要操作完了</td></tr><tr><td>主要ユーザー：<br>自主学習者（20-30代）</td><td>システム要件：モバイル対応、個人認証機能</td></tr><tr><td>MVP機能：<br>学習記録管理、科目管理、基本統計</td><td>機能要件：4つの主要機能群に詳細化</td></tr><tr><td>差別化要素：<br>記録の簡単さ</td><td>性能要件：記録保存3秒以内、シンプルな入力フォーム</td></tr></tbody></table>

#### 2.4.2 機能要件の定義

**機能1: ユーザー認証機能**

```
機能概要:
- システム利用者の認証を行い、個人データの保護とアクセス制御を実現する。

詳細機能:
- ユーザーはメールアドレスとパスワードでアカウント作成できる
- 作成したアカウントでシステムにログインできる
- ログイン状態を一定期間保持する
- パスワードを忘れた場合のリセット機能を提供する
- ユーザーは任意のタイミングでログアウトできる

入力項目:
- メールアドレス（必須）
- パスワード（必須）

出力項目:
- 認証成功/失敗の結果
- エラーメッセージ（認証失敗時）
```



**機能2: 学習記録管理機能**

**機能概要**: ユーザーの学習活動を記録し、データとして蓄積・管理する。

```markdown
詳細機能:
- 学習日、科目、学習時間、学習内容を記録できる
- 科目は事前に登録した科目マスタから選択する
- 同一日の同一科目について複数回記録できる
- 記録したデータの閲覧・編集・削除ができる
- 記録内容の妥当性を検証し、エラーを通知する

入力項目:
- 学習日（必須）
- 科目（必須、科目マスタから選択）
- 学習時間（必須、分単位）
- 学習内容（任意、テキスト）

出力項目:
- 記録保存の成功/失敗結果
- 学習記録一覧データ
- エラーメッセージ（入力値不正時）
```

**機能3: 学習統計表示機能**

**機能概要**: 蓄積された学習記録から統計情報を算出し、ユーザーに提供する。

```markdown
詳細機能:
- 指定期間の総学習時間を表示する
- 科目別の学習時間を表示する
- 日別の学習時間推移を表示する
- 期間を指定して統計を表示できる

入力項目:
- 集計期間（開始日、終了日）
- 集計対象科目（任意）

出力項目:
- 総学習時間
- 科目別学習時間
- 日別学習時間データ
```

#### 2.4.3 業務ルールと制約事項

**業務ルール**:

* 1つのアカウントは1人のユーザーが利用する
* 学習記録は当日または過去の日付のみ登録可能
* 科目名は重複して登録できない
* 削除された記録は復元できない

**技術的制約**:

* インターネット接続が必要
* 個人データの外部共有は行わない
* データの保存期間は制限しない

#### 2.4.4 非機能要件の定義

**性能要件**:

* 通常操作の応答時間は3秒以内
* データの保存・取得は迅速に行われる
* 複数ユーザーの同時利用に対応する

**セキュリティ要件**:

* ユーザーのパスワードは安全に保管する
* ユーザーは自分のデータのみアクセスできる
* セッション管理を適切に行う

**ユーザビリティ要件**:

* 主要操作は簡単に実行できる
* エラーメッセージは理解しやすい内容で表示する
* モバイルデバイスで使いやすい設計にする

**互換性要件**:

* 現代的なスマートフォンで動作する
* 主要な Web ブラウザで動作する

### 2.5 要件定義書の作成

#### 2.5.1 要件定義書とは

**要件定義書**は、システムの要件を体系的にまとめた文書です。開発チーム、テストチーム、ユーザーが共通の理解を持つための重要な成果物です。

#### 2.5.2 要件定義書の基本構成

<table><thead><tr><th width="160.20001220703125">セクション</th><th>内容</th><th>目的</th></tr></thead><tbody><tr><td>概要</td><td>システムの目的・背景・スコープ</td><td>プロジェクト全体の理解</td></tr><tr><td>ユーザー定義</td><td>対象ユーザーとその特徴</td><td>ユーザー像の共有</td></tr><tr><td>機能要件</td><td>システムが提供する機能の詳細</td><td>開発すべき機能の明確化</td></tr><tr><td>非機能要件</td><td>性能・セキュリティ・使いやすさの要件</td><td>品質基準の明確化</td></tr><tr><td>制約事項</td><td>技術的・業務的な制約条件</td><td>開発の前提条件の共有</td></tr><tr><td>受け入れ基準</td><td>各機能の完成判定基準</td><td>テスト・検収の基準設定</td></tr></tbody></table>

#### 2.5.3 学習記録アプリの要件定義書（抜粋）

**システム概要**

本システムは、個人の学習活動を記録・管理し、継続的な学習習慣の形成を支援するモバイルアプリケーションです。

**対象ユーザー**

* 主要ユーザー：自主学習に取り組む20-30代の大学生・社会人
* 利用環境：主にスマートフォン、時々PC
* 技術レベル：一般的なアプリ操作ができるレベル

**主要機能一覧**

<table><thead><tr><th width="159.79998779296875">機能ID</th><th>機能名</th><th width="90.2000732421875">優先度</th><th>概要</th></tr></thead><tbody><tr><td>F001</td><td>ユーザー登録・ログイン</td><td>高</td><td>アカウント管理機能</td></tr><tr><td>F002</td><td>学習記録追加</td><td>高</td><td>学習内容の記録機能</td></tr><tr><td>F003</td><td>学習記録一覧</td><td>高</td><td>過去の記録の表示・管理</td></tr><tr><td>F004</td><td>科目管理</td><td>高</td><td>学習科目の追加・編集</td></tr><tr><td>F005</td><td>基本統計</td><td>高</td><td>学習時間の集計・表示</td></tr></tbody></table>

### 2.6 ユースケース図とユースケース記述

#### 2.6.1 ユースケース図とは

**ユースケース図**は、システムが提供する機能（ユースケース）と、それを利用するユーザー（アクター）の関係を視覚的に表現した図です。システム全体の機能を俯瞰的に理解するのに役立ちます。

#### 2.6.2 ユースケース図の基本要素

**アクター**\
システムを利用する人や外部システムを表します。学習記録アプリでは「学習者」がメインのアクターです。

**ユースケース**\
システムが提供する機能や処理を表します。楕円形で描き、動詞で表現します（例：「記録を追加する」「統計を表示する」）。

**関連線**\
アクターとユースケースの関係を直線で結びます。「誰が何をするか」を表現します。

**システム境界**\
システムの範囲を四角い枠で囲み、システム名を記載します。

#### 2.6.3 学習記録アプリのユースケース図例

```
システム境界:
- 学習記録アプリ

アクター:
- 学習者

主要ユースケース:
- アカウント登録する
- ログインする  
- 学習記録を追加する
- 学習記録を表示する
- 学習記録を編集する
- 学習記録を削除する
- 科目を管理する
- 学習統計を表示する
- ログアウトする
```

#### 2.6.4 ユースケース記述とは

**ユースケース記述**は、ユースケース図の各機能について、具体的な処理手順を文章で記述したものです。システムとアクターのやり取りを段階的に詳しく説明します。

**ユースケース記述の基本構成**:

| 項目      | 内容              |
| ------- | --------------- |
| ユースケース名 | 機能の名称           |
| アクター    | この機能を利用する人・システム |
| 事前条件    | この機能を実行する前提条件   |
| 基本フロー   | 正常系の処理手順        |
| 代替フロー   | 例外処理や分岐処理       |
| 事後条件    | この機能実行後の状態      |

**例：学習記録追加のユースケース記述**

| 項目      | 内容                                                                                                                                                                      |
| ------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| ユースケース名 | 学習記録を追加する                                                                                                                                                               |
| アクター    | 学習者                                                                                                                                                                     |
| 事前条件    | ユーザーがログイン済みである                                                                                                                                                          |
| 基本フロー   | <p>1. 学習者が記録追加画面を表示する</p><p>2. システムが入力フォームを表示する</p><p>3. 学習者が必要項目を入力する</p><p>4. 学習者が保存ボタンを押下する</p><p>5. システムが入力値を検証する</p><p>6. システムが記録を保存する</p><p>7. システムが保存完了を通知する</p> |
| 代替フロー   | <p>5a. 入力値が不正な場合</p><p>5a-1. システムがエラーメッセージを表示する</p><p>5a-2. 3に戻る</p>                                                                                                    |
| 事後条件    | 学習記録がデータベースに保存されている                                                                                                                                                     |

> 📝 **ポイント**: ユースケース記述は要件定義の中でも詳細な部分です。基本設計での画面設計や処理設計の重要な参考資料となります。

### 2.7 要件定義から次のフェーズへ

#### 2.7.1 要件定義での重要な成果物

要件定義フェーズで作成した以下の成果物が、基本設計フェーズの重要な入力となります：

**機能要件定義書**:

* システムが提供すべき機能の詳細仕様
* 各機能の入力・出力・処理内容
* 機能間の関係性と依存関係

**非機能要件定義書**:

* 性能、セキュリティ、ユーザビリティの具体的要件
* システムの制約条件と前提条件
* 品質基準と測定方法

**ユースケース記述**:

* システムとユーザーの詳細な相互作用
* 正常系・異常系の処理フロー
* ビジネスルールと業務制約

#### 2.7.2 基本設計フェーズへの引き継ぎ

要件定義で明確化した内容は、基本設計フェーズで以下のように技術仕様に変換されます：

**要件定義** → **基本設計での技術化**

* 機能要件 → システム構成・画面設計・処理設計
* データ要件 → データベース設計・ER図
* ユースケース → 画面遷移・処理フロー
* 非機能要件 → アーキテクチャ選定・技術選定

***

### まとめ

要件定義は、企画の抽象的なアイデアを具体的で開発可能な仕様に変換する重要な工程です。「何を作るか」を明確に定義することで、開発効率の向上、品質の確保、関係者間の認識統一を図ることができます。

要件定義で重要なのは、ユーザーの本当のニーズを理解し、それを正確にシステムの仕様として表現することです。曖昧な要件は開発の混乱を招くため、具体的で検証可能な形で要件を定義することが不可欠です。

**実務で活用するために**:

* ユーザーの要求を正確に聞き取り、整理する能力を身につける
* 機能要件と非機能要件を明確に区別して記述する
* 受け入れ基準を具体的に定義し、後のテスト設計につなげる
* ユースケース記述により、システムの動作を詳細に定義する
* 段階的な明確化プロセスを通じて、初期アイデアを実装可能な仕様に変換する
